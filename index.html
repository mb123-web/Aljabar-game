<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambatron - The Smart Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        :root {
            --bg: #030406;
            --primary: #6366f1;
            --accent: #c7d2fe;
            --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.08);
            --success: #10b981;
            --error: #ff4d4d;
        }

        * { box-sizing: border-box; transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: #fff;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* --- BACKGROUND EFFECTS --- */
        .bg-glow {
            position: fixed;
            width: 500px; height: 500px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 75%);
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
            transform: translate(-50%, -50%);
            filter: blur(40px);
        }

        .noise {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.15; pointer-events: none; z-index: -1;
        }

        /* --- CONTAINER --- */
        .container {
            width: 90%;
            max-width: 420px;
            position: relative;
        }

        .pro-card {
            background: var(--glass);
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            border: 1px solid var(--border);
            border-radius: 40px;
            padding: 45px 35px;
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.5);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        h2 {
            font-weight: 800; font-size: 0.8rem; letter-spacing: 6px;
            text-transform: uppercase; text-align: center; margin-bottom: 40px;
            color: var(--accent); opacity: 0.8;
        }

        /* --- UI COMPONENTS --- */
        .display-section {
            margin-bottom: 35px; text-align: right;
        }

        #result {
            font-size: 3rem; font-weight: 600; letter-spacing: -2px;
            margin-top: 5px; background: linear-gradient(to right, #fff, #94a3b8);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;
        }

        button {
            height: 65px; border-radius: 22px; border: 1px solid transparent;
            background: rgba(255, 255, 255, 0.02); color: #fff;
            font-size: 1.2rem; font-weight: 400; cursor: pointer;
        }

        button:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--border); transform: translateY(-4px);
        }

        .btn-primary { background: var(--primary); font-weight: 600; border: none; }
        .btn-primary:hover { background: #818cf8; box-shadow: 0 0 30px rgba(99,102,241,0.4); }

        /* --- GAME UI --- */
        .ans-input {
            width: 100%; padding: 25px; border-radius: 25px;
            border: 1px solid var(--border); background: rgba(0,0,0,0.3);
            color: #fff; text-align: center; font-size: 2rem;
            margin-bottom: 25px; outline: none;
        }

        .ans-input:focus { border-color: var(--primary); box-shadow: 0 0 20px rgba(99,102,241,0.1); }

        .hidden { opacity: 0; transform: scale(0.9) translateY(40px); pointer-events: none; position: absolute; width: 100%; top: 0;}
        .visible { opacity: 1; transform: scale(1) translateY(0); position: relative; }

        .switch-link {
            display: block; text-align: center; margin-top: 40px;
            font-size: 0.7rem; letter-spacing: 3px; color: var(--accent);
            cursor: pointer; opacity: 0.6; text-decoration: none;
        }
        .switch-link:hover { opacity: 1; letter-spacing: 4px; }
    </style>
</head>
<body>

    <div class="bg-glow" id="glow"></div>
    <div class="noise"></div>

    <div class="container">
        <div id="calc-ui" class="pro-card visible">
            <h2>AMBATRON PRO</h2>
            <div class="display-section">
                <div style="color:var(--accent); font-size:0.9rem; opacity:0.5;" id="input-history">0</div>
                <div id="result">0</div>
            </div>
            <div class="grid">
                <button onclick="addChar('7')">7</button><button onclick="addChar('8')">8</button><button onclick="addChar('9')">9</button><button onclick="addChar('/')" style="color:var(--primary)">/</button>
                <button onclick="addChar('4')">4</button><button onclick="addChar('5')">5</button><button onclick="addChar('6')">6</button><button onclick="addChar('*')" style="color:var(--primary)">*</button>
                <button onclick="addChar('1')">1</button><button onclick="addChar('2')">2</button><button onclick="addChar('3')">3</button><button onclick="addChar('-')" style="color:var(--primary)">-</button>
                <button onclick="clearAll()">C</button><button onclick="addChar('0')">0</button><button onclick="addChar('.')">.</button><button onclick="addChar('+')" style="color:var(--primary)">+</button>
                <button class="btn-primary" style="grid-column: span 4;" onclick="calculate()">CONFIRM</button>
            </div>
            <div class="switch-link" onclick="toggleMode('game')">Master Challenge</div>
        </div>

        <div id="game-ui" class="pro-card hidden">
            <div id="game-menu">
                <h2>CHALLENGE</h2>
                <div style="display:grid; gap:15px;">
                    <button onclick="startGame('easy')">EASY</button>
                    <button onclick="startGame('medium')">HARD</button>
                </div>
                <div class="switch-link" onclick="toggleMode('calc')">Back to Ambatron</div>
            </div>

            <div id="game-play" style="display:none; text-align:center;">
                <div id="prog" style="font-size:0.6rem; letter-spacing:2px; color:var(--accent); margin-bottom:20px;">01 / 10</div>
                <div id="question" style="font-size:3rem; font-weight:600; margin-bottom:30px;">0 + 0</div>
                <input type="number" class="ans-input" id="ans-in" placeholder="?">
                <div id="feed" style="margin-bottom:20px; font-weight:600; font-size:0.8rem;"></div>
                <button class="btn-primary" style="width:100%" onclick="checkAns()">SUBMIT</button>
            </div>
        </div>
    </div>

<script>
    // Mouse Glow
    const glow = document.getElementById('glow');
    document.addEventListener('mousemove', (e) => {
        glow.style.left = e.clientX + 'px';
        glow.style.top = e.clientY + 'px';
    });

    // Navigation
    function toggleMode(to) {
        if(to === 'game') {
            document.getElementById('calc-ui').classList.replace('visible', 'hidden');
            setTimeout(() => document.getElementById('game-ui').classList.replace('hidden', 'visible'), 400);
        } else {
            document.getElementById('game-ui').classList.replace('visible', 'hidden');
            setTimeout(() => document.getElementById('calc-ui').classList.replace('hidden', 'visible'), 400);
        }
    }

    // Calc Logic
    function addChar(c) { document.getElementById('input-history').innerText += c; }
    function clearAll() { document.getElementById('input-history').innerText = ''; document.getElementById('result').innerText = '0'; }
    function calculate() {
        try {
            const exp = document.getElementById('input-history').innerText;
            const res = math.evaluate(exp);
            document.getElementById('result').innerText = res;
        } catch(e) { document.getElementById('result').innerText = "Err"; }
    }

    // Game Logic
    let state = { ans: 0, cur: 1 };
    function startGame(lvl) {
        document.getElementById('game-menu').style.display = 'none';
        document.getElementById('game-play').style.display = 'block';
        gen();
    }
    function gen() {
        let x = math.randomInt(1, 30), y = math.randomInt(1, 30);
        state.ans = x + y;
        document.getElementById('question').innerText = `${x} + ${y}`;
        document.getElementById('prog').innerText = `${state.cur.toString().padStart(2, '0')} / 10`;
        document.getElementById('ans-in').value = '';
        document.getElementById('feed').innerText = '';
    }
    function checkAns() {
        const u = document.getElementById('ans-in').value;
        const f = document.getElementById('feed');
        if(u == state.ans) {
            f.innerText = "LU KEREN!!!"; f.style.color = 'var(--success)';
            setTimeout(() => { if(state.cur < 10) { state.cur++; gen(); } else { location.reload(); } }, 1000);
        } else {
            f.innerText = "COBA LAGI, YE!"; f.style.color = 'var(--error)';
        }
    }
</script>
</body>
</html>
